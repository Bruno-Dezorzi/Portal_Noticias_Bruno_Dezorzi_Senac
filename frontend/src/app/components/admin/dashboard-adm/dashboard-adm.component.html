<!-- Navbar -->
<nav class="navbar">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">
      <i class="fas fa-arrow-left me-2"></i>Meu Noticiário
    </a>
    <div class="navbar-nav ms-auto">
      <div class="dropdown">
        <button class="btn btn-link nav-link dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fas fa-user-circle me-1"></i>Administrador
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
          <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Perfil</a></li>
          <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Configurações</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" (click)="logout()"><i class="fas fa-sign-out-alt me-2"></i>Sair</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="sidebar col-md-3 col-lg-2">
      <div class="sidebar-content">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="#dashboard">
              <i class="fas fa-tachometer-alt me-2"></i>Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/categoria">
              <i class="fas fa-list me-2"></i>Gerenciar Categorias
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/categoria/novo">
              <i class="fas fa-tags me-2"></i>Cadastrar Categorias
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/noticia">
              <i class="fas fa-edit me-2"></i>Gerenciar Notícias
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/noticia/novo">
              <i class="fas fa-newspaper me-2"></i>Cadastrar Notícias
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/usuarios">
              <i class="fas fa-users me-2"></i>Usuários
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/comentarios">
              <i class="fas fa-comments me-2"></i>Comentários
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/relatorios">
              <i class="fas fa-chart-bar me-2"></i>Relatórios
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content col-md-9 col-lg-10">
      <div class="content-header">
        <h1><i class="fas fa-tachometer-alt me-2"></i>Dashboard Administrativo</h1>
        <button class="btn btn-outline-secondary btn-sm">
          <i class="fas fa-download me-1"></i>Exportar
        </button>
      </div>

      <!-- Statistics Cards -->
      <div class="row mb-4">
        <div class="col-xl-3 col-md-6 mb-3">
          <div class="stat-card news">
            <div class="stat-content">
              <div class="stat-info">
                <div class="stat-label">Total de Notícias</div>
                <div class="stat-value">{{ stats.totalNews }}</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-newspaper"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-3">
          <div class="stat-card categories">
            <div class="stat-content">
              <div class="stat-info">
                <div class="stat-label">Categorias Ativas</div>
                <div class="stat-value">{{ stats.activeCategories }}</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-tags"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-3">
          <div class="stat-card users">
            <div class="stat-content">
              <div class="stat-info">
                <div class="stat-label">Usuários Registrados</div>
                <div class="stat-value">{{ stats.registeredUsers | number }}</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-users"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-3">
          <div class="stat-card views">
            <div class="stat-content">
              <div class="stat-info">
                <div class="stat-label">Visualizações Hoje</div>
                <div class="stat-value">{{ stats.todayViews | number }}</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-eye"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions and Recent Activity -->
      <div class="row mb-4">
        <div class="col-lg-4">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-bolt me-2"></i>Ações Rápidas</h5>
            </div>
            <div class="card-body">
              <div class="quick-actions">
                <a routerLink="/categoria/novo" class="btn btn-primary w-100 mb-2">
                  <i class="fas fa-plus me-2"></i>Nova Notícia
                </a>
                <a routerLink="/noticia/novo" class="btn btn-info w-100 mb-2">
                  <i class="fas fa-tag me-2"></i>Nova Categoria
                </a>
                <a routerLink="/noticia" class="btn btn-warning w-100 mb-2">
                  <i class="fas fa-edit me-2"></i>Gerenciar Notícias
                </a>
                <a routerLink="/relatorios" class="btn btn-success w-100">
                  <i class="fas fa-chart-bar me-2"></i>Ver Relatórios
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-8">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-clock me-2"></i>Atividades Recentes</h5>
            </div>
            <div class="card-body">
              <div class="activity-list">
                <div class="activity-item" *ngFor="let activity of recentActivities">
                  <div class="activity-content">
                    <h6>{{ activity.title }}</h6>
                    <p>{{ activity.description }}</p>
                    <small>{{ activity.time }}</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Latest News Table -->
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5><i class="fas fa-newspaper me-2"></i>Últimas Notícias Publicadas</h5>
              <a routerLink="/noticia" class="btn btn-primary btn-sm">Ver Todas</a>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>Título</th>
                      <th>Categoria</th>
                      <th>Data</th>
                      <th>Status</th>
                      <th>Visualizações</th>
                      <th>Ações</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let news of latestNews">
                      <td><strong>{{ news.title }}</strong></td>
                      <td>
                        <span class="badge" [ngClass]="getCategoryBadgeClass(news.category)">
                          {{ news.category }}
                        </span>
                      </td>
                      <td>{{ news.date | date:'dd/MM/yyyy' }}</td>
                      <td>
                        <span class="badge" [ngClass]="getStatusBadgeClass(news.status)">
                          {{ news.status }}
                        </span>
                      </td>
                      <td>{{ news.views | number }}</td>
                      <td>
                        <button class="btn btn-sm btn-outline-primary me-1" (click)="editNews(news.id)">
                          <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" (click)="deleteNews(news.id)">
                          <i class="fas fa-trash"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
